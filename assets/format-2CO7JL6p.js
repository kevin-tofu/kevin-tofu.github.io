import{a7 as me,r as b,x as K,w as R,a as i,g as V,a5 as he,i as pe,o as N,ai as be,a0 as ge,V as ye,v as ae,y as qe,a2 as Ce,a3 as xe,h as a,s as I,$ as _e,c as Se}from"./index-BhR0WcmR.js";import{Q as E,R as Be}from"./Ripple-tJgUjR42.js";import{Q as we,u as Re,a as ke}from"./QSpinner-BUy009jF.js";import{u as ue,a as ie}from"./use-dark-B6k9J0c7.js";import{h as P,b as Fe,d as Ae}from"./render-DQddtyOB.js";let U,O=0;const v=new Array(256);for(let e=0;e<256;e++)v[e]=(e+256).toString(16).substring(1);const Ve=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return l=>{const o=new Uint8Array(l);return e.getRandomValues(o),o}}return l=>{const o=[];for(let t=l;t>0;t--)o.push(Math.floor(Math.random()*256));return o}})(),Y=4096;function H(){(U===void 0||O+16>Y)&&(O=0,U=Ve(Y));const e=Array.prototype.slice.call(U,O,O+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,v[e[0]]+v[e[1]]+v[e[2]]+v[e[3]]+"-"+v[e[4]]+v[e[5]]+"-"+v[e[6]]+v[e[7]]+"-"+v[e[8]]+v[e[9]]+"-"+v[e[10]]+v[e[11]]+v[e[12]]+v[e[13]]+v[e[14]]+v[e[15]]}function $e(e){return e??null}function ee(e,l){return e??(l===!0?`f_${H()}`:null)}function Ie({getValue:e,required:l=!0}={}){if(me.value===!0){const o=e!==void 0?b($e(e())):b(null);return l===!0&&o.value===null&&K(()=>{o.value=`f_${H()}`}),e!==void 0&&R(e,t=>{o.value=ee(t,l)}),o}return e!==void 0?i(()=>ee(e(),l)):b(`f_${H()}`)}const le=/^on[A-Z]/;function Ee(){const{attrs:e,vnode:l}=V(),o={listeners:b({}),attributes:b({})};function t(){const d={},c={};for(const u in e)u!=="class"&&u!=="style"&&le.test(u)===!1&&(d[u]=e[u]);for(const u in l.props)le.test(u)===!0&&(c[u]=l.props[u]);o.attributes.value=d,o.listeners.value=c}return he(t),t(),o}function Me({validate:e,resetValidation:l,requiresQForm:o}){const t=pe(be,!1);if(t!==!1){const{props:d,proxy:c}=V();Object.assign(c,{validate:e,resetValidation:l}),R(()=>d.disable,u=>{u===!0?(typeof l=="function"&&l(),t.unbindComponent(c)):t.bindComponent(c)}),K(()=>{d.disable!==!0&&t.bindComponent(c)}),N(()=>{d.disable!==!0&&t.unbindComponent(c)})}else o===!0&&console.error("Parent QForm not found on useFormChild()!")}const oe=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,te=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,ne=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,D=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,j=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Q={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>oe.test(e),hexaColor:e=>te.test(e),hexOrHexaColor:e=>ne.test(e),rgbColor:e=>D.test(e),rgbaColor:e=>j.test(e),rgbOrRgbaColor:e=>D.test(e)||j.test(e),hexOrRgbColor:e=>oe.test(e)||D.test(e),hexaOrRgbaColor:e=>te.test(e)||j.test(e),anyColor:e=>ne.test(e)||D.test(e)||j.test(e)},ze=[!0,!1,"ondemand"],Pe={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>ze.includes(e)}};function Oe(e,l){const{props:o,proxy:t}=V(),d=b(!1),c=b(null),u=b(!1);Me({validate:B,resetValidation:_});let f=0,q;const C=i(()=>o.rules!==void 0&&o.rules!==null&&o.rules.length!==0),g=i(()=>o.disable!==!0&&C.value===!0&&l.value===!1),x=i(()=>o.error===!0||d.value===!0),$=i(()=>typeof o.errorMessage=="string"&&o.errorMessage.length!==0?o.errorMessage:c.value);R(()=>o.modelValue,()=>{u.value=!0,g.value===!0&&o.lazyRules===!1&&r()});function S(){o.lazyRules!=="ondemand"&&g.value===!0&&u.value===!0&&r()}R(()=>o.reactiveRules,y=>{y===!0?q===void 0&&(q=R(()=>o.rules,S,{immediate:!0,deep:!0})):q!==void 0&&(q(),q=void 0)},{immediate:!0}),R(()=>o.lazyRules,S),R(e,y=>{y===!0?u.value=!0:g.value===!0&&o.lazyRules!=="ondemand"&&r()});function _(){f++,l.value=!1,u.value=!1,d.value=!1,c.value=null,r.cancel()}function B(y=o.modelValue){if(o.disable===!0||C.value===!1)return!0;const F=++f,L=l.value!==!0?()=>{u.value=!0}:()=>{},w=(m,h)=>{m===!0&&L(),d.value=m,c.value=h||null,l.value=!1},A=[];for(let m=0;m<o.rules.length;m++){const h=o.rules[m];let p;if(typeof h=="function"?p=h(y,Q):typeof h=="string"&&Q[h]!==void 0&&(p=Q[h](y)),p===!1||typeof p=="string")return w(!0,p),!1;p!==!0&&p!==void 0&&A.push(p)}return A.length===0?(w(!1),!0):(l.value=!0,Promise.all(A).then(m=>{if(m===void 0||Array.isArray(m)===!1||m.length===0)return F===f&&w(!1),!0;const h=m.find(p=>p===!1||typeof p=="string");return F===f&&w(h!==void 0,h),h===void 0},m=>(F===f&&(console.error(m),w(!0)),!1)))}const r=ge(B,0);return N(()=>{q?.(),r.cancel()}),Object.assign(t,{resetValidation:_,validate:B}),ye(t,"hasError",()=>x.value),{isDirtyModel:u,hasRules:C,hasError:x,errorMessage:$,validate:B,resetValidation:_}}let k=[],M=[];function se(e){M=M.filter(l=>l!==e)}function We(e){se(e),M.push(e)}function Ge(e){se(e),M.length===0&&k.length!==0&&(k[k.length-1](),k=[])}function De(e){M.length===0?e():k.push(e)}function je(e){k=k.filter(l=>l!==e)}function Le(e){return e!=null&&(""+e).length!==0}const Te={...ue,...Pe,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},Je={...Te,maxlength:[Number,String]},Xe=["update:modelValue","clear","focus","blur"];function Ye({requiredForAttr:e=!0,tagProp:l,changeEvent:o=!1}={}){const{props:t,proxy:d}=V(),c=ie(t,d.$q),u=Ie({required:e,getValue:()=>t.for});return{requiredForAttr:e,changeEvent:o,tag:l===!0?i(()=>t.tag):{value:"label"},isDark:c,editable:i(()=>t.disable!==!0&&t.readonly!==!0),innerLoading:b(!1),focused:b(!1),hasPopupOpen:!1,splitAttrs:Ee(),targetUid:u,rootRef:b(null),targetRef:b(null),controlRef:b(null)}}function el(e){const{props:l,emit:o,slots:t,attrs:d,proxy:c}=V(),{$q:u}=c;let f=null;e.hasValue===void 0&&(e.hasValue=i(()=>Le(l.modelValue))),e.emitValue===void 0&&(e.emitValue=n=>{o("update:modelValue",n)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:Z,onFocusout:W}),Object.assign(e,{clearValue:T,onControlFocusin:Z,onControlFocusout:W,focus:h}),e.computedCounter===void 0&&(e.computedCounter=i(()=>{if(l.counter!==!1){const n=typeof l.modelValue=="string"||typeof l.modelValue=="number"?(""+l.modelValue).length:Array.isArray(l.modelValue)===!0?l.modelValue.length:0,s=l.maxlength!==void 0?l.maxlength:l.maxValues;return n+(s!==void 0?" / "+s:"")}}));const{isDirtyModel:q,hasRules:C,hasError:g,errorMessage:x,resetValidation:$}=Oe(e.focused,e.innerLoading),S=e.floatingLabel!==void 0?i(()=>l.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):i(()=>l.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),_=i(()=>l.bottomSlots===!0||l.hint!==void 0||C.value===!0||l.counter===!0||l.error!==null),B=i(()=>l.filled===!0?"filled":l.outlined===!0?"outlined":l.borderless===!0?"borderless":l.standout?"standout":"standard"),r=i(()=>`q-field row no-wrap items-start q-field--${B.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(l.rounded===!0?" q-field--rounded":"")+(l.square===!0?" q-field--square":"")+(S.value===!0?" q-field--float":"")+(F.value===!0?" q-field--labeled":"")+(l.dense===!0?" q-field--dense":"")+(l.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(g.value===!0?" q-field--error":"")+(g.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(l.hideBottomSpace!==!0&&_.value===!0?" q-field--with-bottom":"")+(l.disable===!0?" q-field--disabled":l.readonly===!0?" q-field--readonly":"")),y=i(()=>"q-field__control relative-position row no-wrap"+(l.bgColor!==void 0?` bg-${l.bgColor}`:"")+(g.value===!0?" text-negative":typeof l.standout=="string"&&l.standout.length!==0&&e.focused.value===!0?` ${l.standout}`:l.color!==void 0?` text-${l.color}`:"")),F=i(()=>l.labelSlot===!0||l.label!==void 0),L=i(()=>"q-field__label no-pointer-events absolute ellipsis"+(l.labelColor!==void 0&&g.value!==!0?` text-${l.labelColor}`:"")),w=i(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:S.value,modelValue:l.modelValue,emitValue:e.emitValue})),A=i(()=>{const n={};return e.targetUid.value&&(n.for=e.targetUid.value),l.disable===!0&&(n["aria-disabled"]="true"),n});function m(){const n=document.activeElement;let s=e.targetRef?.value;s&&(n===null||n.id!==e.targetUid.value)&&(s.hasAttribute("tabindex")===!0||(s=s.querySelector("[tabindex]")),s!==n&&s?.focus({preventScroll:!0}))}function h(){De(m)}function p(){je(m);const n=document.activeElement;n!==null&&e.rootRef.value.contains(n)&&n.blur()}function Z(n){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,o("focus",n))}function W(n,s){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,o("blur",n)),s?.())})}function T(n){ae(n),u.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),l.type==="file"&&(e.inputRef.value.value=null),o("update:modelValue",null),e.changeEvent===!0&&o("change",null),o("clear",l.modelValue),qe(()=>{const s=q.value;$(),q.value=s})}function de(n){[13,32].includes(n.keyCode)&&T(n)}function ce(){const n=[];return t.prepend!==void 0&&n.push(a("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:I},t.prepend())),n.push(a("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},fe())),g.value===!0&&l.noErrorIcon===!1&&n.push(z("error",[a(E,{name:u.iconSet.field.error,color:"negative"})])),l.loading===!0||e.innerLoading.value===!0?n.push(z("inner-loading-append",t.loading!==void 0?t.loading():[a(we,{color:l.color})])):l.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&n.push(z("inner-clearable-append",[a(E,{class:"q-field__focusable-action",name:l.clearIcon||u.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":u.lang.label.clear,onKeyup:de,onClick:T})])),t.append!==void 0&&n.push(a("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:I},t.append())),e.getInnerAppend!==void 0&&n.push(z("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&n.push(e.getControlChild()),n}function fe(){const n=[];return l.prefix!==void 0&&l.prefix!==null&&n.push(a("div",{class:"q-field__prefix no-pointer-events row items-center"},l.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&n.push(e.getShadowControl()),e.getControl!==void 0?n.push(e.getControl()):t.rawControl!==void 0?n.push(t.rawControl()):t.control!==void 0&&n.push(a("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0},t.control(w.value))),F.value===!0&&n.push(a("div",{class:L.value},P(t.label,l.label))),l.suffix!==void 0&&l.suffix!==null&&n.push(a("div",{class:"q-field__suffix no-pointer-events row items-center"},l.suffix)),n.concat(P(t.default))}function ve(){let n,s;g.value===!0?x.value!==null?(n=[a("div",{role:"alert"},x.value)],s=`q--slot-error-${x.value}`):(n=P(t.error),s="q--slot-error"):(l.hideHint!==!0||e.focused.value===!0)&&(l.hint!==void 0?(n=[a("div",l.hint)],s=`q--slot-hint-${l.hint}`):(n=P(t.hint),s="q--slot-hint"));const J=l.counter===!0||t.counter!==void 0;if(l.hideBottomSpace===!0&&J===!1&&n===void 0)return;const X=a("div",{key:s,class:"q-field__messages col"},n);return a("div",{class:"q-field__bottom row items-start q-field__bottom--"+(l.hideBottomSpace!==!0?"animated":"stale"),onClick:I},[l.hideBottomSpace===!0?X:a(_e,{name:"q-transition--field-message"},()=>X),J===!0?a("div",{class:"q-field__counter"},t.counter!==void 0?t.counter():e.computedCounter.value):null])}function z(n,s){return s===null?null:a("div",{key:n,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},s)}let G=!1;return Ce(()=>{G=!0}),xe(()=>{G===!0&&l.autofocus===!0&&c.focus()}),l.autofocus===!0&&K(()=>{c.focus()}),N(()=>{f!==null&&clearTimeout(f)}),Object.assign(c,{focus:h,blur:p}),function(){const s=e.getControl===void 0&&t.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":l.autofocus===!0||void 0,...A.value}:A.value;return a(e.tag.value,{ref:e.rootRef,class:[r.value,d.class],style:d.style,...s},[t.before!==void 0?a("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:I},t.before()):null,a("div",{class:"q-field__inner relative-position col self-stretch"},[a("div",{ref:e.controlRef,class:y.value,tabindex:-1,...e.controlEvents},ce()),_.value===!0?ve():null]),t.after!==void 0?a("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:I},t.after()):null])}}const Ue={xs:8,sm:10,md:14,lg:20,xl:24},ll=Se({name:"QChip",props:{...ue,...Re,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=V(),d=ie(e,t),c=ke(e,Ue),u=i(()=>e.selected===!0||e.icon!==void 0),f=i(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),q=i(()=>e.iconRemove||t.iconSet.chip.remove),C=i(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),g=i(()=>{const r=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(r?` text-${r} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(C.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),x=i(()=>{const r=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},y={...r,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:r,remove:y}});function $(r){r.keyCode===13&&S(r)}function S(r){e.disable||(o("update:selected",!e.selected),o("click",r))}function _(r){(r.keyCode===void 0||r.keyCode===13)&&(ae(r),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function B(){const r=[];C.value===!0&&r.push(a("div",{class:"q-focus-helper"})),u.value===!0&&r.push(a(E,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const y=e.label!==void 0?[a("div",{class:"ellipsis"},[e.label])]:void 0;return r.push(a("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Ae(l.default,y))),e.iconRight&&r.push(a(E,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&r.push(a(E,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:q.value,...x.value.remove,onClick:_,onKeyup:_})),r}return()=>{if(e.modelValue===!1)return;const r={class:g.value,style:c.value};return C.value===!0&&Object.assign(r,x.value.chip,{onClick:S,onKeyup:$}),Fe("div",r,B(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Be,e.ripple]])}}}),ol={name:String};function tl(e={}){return(l,o,t)=>{l[o](a("input",{class:"hidden"+(t||""),...e.value}))}}function nl(e){return i(()=>e.name||e.for)}const re=["B","KB","MB","GB","TB","PB"];function rl(e,l=1){let o=0;for(;parseInt(e,10)>=1024&&o<re.length-1;)e/=1024,++o;return`${e.toFixed(l)}${re[o]}`}function al(e,l,o){return o<=l?l:Math.min(o,Math.max(l,e))}function ul(e,l,o){if(o<=l)return l;const t=o-l+1;let d=l+(e-l)%t;return d<l&&(d=t+d),d===0?0:d}export{ll as Q,ol as a,al as b,Je as c,nl as d,Ye as e,Le as f,el as g,De as h,tl as i,We as j,Te as k,rl as l,ul as n,Ge as r,Xe as u};
